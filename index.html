<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>TheWrkShop</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="assets/favicon/favicon.ico">
    <meta name="description" content="TheWrkShop ‚Äî Building Christian Men of Purpose and Excellence. Podcast, Daily Devotionals, Blog, and Resources."/>
</head>
<body>

    <!-- Header/Navbar -->
    <div id="site-header"></div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-overlay">
            <h1><span class="sitename"></span></h1>
            <p>Building Christian Men Of Purpose And Excellence.</p>

            <!-- Subscription Box -->
            <form id="emailForm" class="subscribe-form">
                <input type="email" id="email" name="email" placeholder="Your Email - Our Newsletter" required />
                <button type="submit">Subscribe</button>
            </form>
            <p id="successMessage" class="subscribe-success">Thanks! Check your email to confirm your subscription</p>

            <a href="#about" class="hero-button">Learn More</a>
        </div>
    </section>

    <!-- Quick Actions (New) -->
    <section class="quick-actions" aria-label="Quick Actions">
        <a class="qa-pill" href="#daily">
            <span>üìñ</span> Today‚Äôs Verse
        </a>
        <a class="qa-pill" href="#blog">
            <span>‚úçÔ∏è</span> Latest Blog
        </a>
        <a class="qa-pill" href="#resources">
            <span>üß∞</span> Starter Kit
        </a>
    </section>

    <!-- Home Feature Row (Daily + side cards) -->
    <section class="home-feature container" id="daily" aria-label="Today at TheWrkShop">
    <!-- Daily Feature: Hidden Gem + Verse (snippet only) -->
    <article class="daily-feature">
        <div class="df-head">
        <span class="badge">Hidden Gem</span>
        <time class="df-date" datetime="2025-08-22">Aug 22</time>
        </div>
        <h3 class="df-title">First Things First</h3>
        <p class="df-teaser">
        The quieter you are before God, the clearer your next step gets. Start with the One who orders the rest‚Ä¶
        </p>

        <div class="df-verse">
        <span class="verse-ref">Matthew 6:33</span>
        <span class="verse-snippet">‚ÄúSeek first the kingdom of God‚Ä¶‚Äù</span>
        </div>

        <a class="cta df-cta" href="daily.html">Read Today‚Äôs Devotional ‚Üí</a>
    </article>

    <!-- Side stack: Latest Podcast & Blog (compact) -->
    <div class="side-stack">
        <article class="mini-card">
        <h4>Latest Podcast</h4>
        <p class="mini-teaser">Ep 12 ‚Äî ‚ÄúBuilt, Not Bought‚Äù ‚Ä¢ 24m</p>
        <a class="cta" href="podcasts.html">Play ‚Üí</a>
        </article>

        <article class="mini-card">
        <h4>Latest Blog</h4>
        <p class="mini-teaser">Seek First: One Focus That Rewires Everything ‚Ä¢ 5 min</p>
        <a class="cta" href="blog.html">Read ‚Üí</a>
        </article>
    </div>
    </section>


    <!-- About Us Section (Existing) -->
    <section id="about" class="content-section about-section">
        <h2>About Us</h2>
        <div class="cards-container">
            <div class="card">
                <h3>Our Mission</h3>
                <p>To equip Christian men with tools, teachings, and community to build strong spiritual and practical foundations in their lives.</p>
            </div>
            <div class="card">
                <h3>Our Vision</h3>
                <p>To inspire a generation of men who lead with integrity, courage, and wisdom rooted in Christ.</p>
            </div>
            <div class="card">
                <h3>Our Values</h3>
                <p>Brotherhood, accountability, growth, and authentic faith lived out daily.</p>
            </div>
        </div>
    </section>

    <!-- Our Podcast Section -->
    <section id="podcast" class="content-section podcast-section container">
    <div class="podcast-grid">
        <!-- Vertical Image -->
        <div class="podcast-image">
        <img src="assets/images/Our_Podcast_looking_up.png" alt="Podcast illustration" />
        </div>

        <!-- Podcast Text -->
        <div class="podcast-text">
        <h2>Our Podcast</h2>
        <p>
            Dive into impactful conversations that challenge and grow you in your walk with God, work, and relationships.
        </p>
        <a href="podcasts.html" class="podcast-button">Click to See Our Podcasts</a>
        </div>
    </div>
    </section>


    <!-- Blog Section (New) -->
    <section id="blog" class="content-section blog-list">
        <h2>From the Blog</h2>
        <div class="cards">
            <!-- Example Post Card (duplicate and replace as needed) -->
            <article class="blog-card">
                <h3><a href="blog/seek-first.html">Seek First: One Focus That Rewires Everything</a></h3>
                <p class="meta">5 min ‚Ä¢ Discipline</p>
                <p class="excerpt">You don‚Äôt need ten habits‚Äîyou need one priority that orders the rest‚Ä¶</p>
            </article>

            <article class="blog-card">
                <h3><a href="blog/iron-sharpens-iron.html">Iron Sharpens Iron: Brotherhood that Builds</a></h3>
                <p class="meta">6 min ‚Ä¢ Brotherhood</p>
                <p class="excerpt">We don‚Äôt grow in isolation. Here‚Äôs how to build a circle that makes you better‚Ä¶</p>
            </article>

            <article class="blog-card">
                <h3><a href="blog/work-with-integrity.html">Work with Integrity: Excellence as Worship</a></h3>
                <p class="meta">7 min ‚Ä¢ Work</p>
                <p class="excerpt">Excellence isn‚Äôt perfectionism‚Äîit‚Äôs stewardship. How to bring your best, daily‚Ä¶</p>
            </article>
        </div>
        <a class="cta" href="blog.html">See all posts ‚Üí</a>
    </section>

    <!-- Resources Section (New) -->
    <section id="resources" class="content-section resources">
        <h2>Resources</h2>
        <div class="filters" role="tablist" aria-label="Resource Filters">
            <button class="chip active" data-tag="all" role="tab">All</button>
            <button class="chip" data-tag="bible" role="tab">Bible Study</button>
            <button class="chip" data-tag="habits" role="tab">Habits</button>
            <button class="chip" data-tag="pdfs" role="tab">PDFs</button>
            <button class="chip" data-tag="books" role="tab">Books</button>
            <button class="chip" data-tag="tools" role="tab">Tools</button>
        </div>

        <div class="resource-grid" id="resource-grid">
            <!-- Example Resource Cards -->
            <a class="resource-card" href="assets/pdfs/30-day-seek-first.pdf">
                <div class="rc-top">üìÑ</div>
                <div class="rc-body">
                    <h3>30-Day Seek First Plan</h3>
                    <p>Short daily prompts to build the right first step.</p>
                </div>
            </a>

            <a class="resource-card" href="https://www.biblegateway.com/" target="_blank" rel="noopener">
                <div class="rc-top">üîé</div>
                <div class="rc-body">
                    <h3>Verse Lookup</h3>
                    <p>Find passages quickly while you study.</p>
                </div>
            </a>

            <a class="resource-card" href="assets/pdfs/habit-checklist.pdf">
                <div class="rc-top">‚úÖ</div>
                <div class="rc-body">
                    <h3>Habit Checklist</h3>
                    <p>Simple weekly rhythm‚Äîfaith, family, work.</p>
                </div>
            </a>

            <a class="resource-card" href="resources.html">
                <div class="rc-top">üß∞</div>
                <div class="rc-body">
                    <h3>Starter Kit</h3>
                    <p>New here? Start with these essentials.</p>
                </div>
            </a>
        </div>
        <a class="cta" href="resources.html">See all resources ‚Üí</a>
    </section>

    <!-- Contact Us Section (Existing) -->
    <section id="contact" class="content-section contact-section">
        <h2>Contact Us</h2>
        <form action="https://formsubmit.co/f25468eae77a6323c66f6f8e7ff728be" method="POST">
            <input type="text" name="name" placeholder="Your Name" required />
            <input type="email" name="email" placeholder="Your Email" required />
            <textarea name="message" placeholder="Your Message" required></textarea>

            <!-- Auto-reply message -->
            <input type="hidden" name="_autoresponse" value="Hey there! üëã

Thanks so much for reaching out to TheBldrShop ‚Äî we‚Äôve received your message and will get back to you soon.

In the meantime, stay bold, stay faithful, and keep building with purpose.

‚Äî TheBldrShop Team" />

            <!-- FormSubmit formatting -->
            <input type="hidden" name="_template" value="table" />

            <!-- Optional: redirect to thank you page or home -->
            <!-- <input type="hidden" name="_next" value="https://thebldrshop.com/thank-you.html"> -->

            <button type="submit">Send Message</button>
        </form>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo"><span class="sitename"></span></div>
            <p>&copy; 2025 <span class="sitename"></span>. All rights reserved.</p>
        </div>
    </footer>

    <!-- Your existing script -->
    <script src="script.js"></script>

    <!-- Inline enhancements (replace your existing inline <script> with this) -->
    <script>
    // Brand fill
    document.querySelectorAll('.sitename').forEach(el => el.textContent = 'TheWrkShop');

    // Mobile nav toggle (safe if header is injected)
    (function(){
        const btn = document.getElementById('hamburger');
        const nav = document.getElementById('nav-links');
        if (btn && nav) btn.addEventListener('click', () => nav.classList.toggle('open'));
    })();

    // --- Daily Feature loader (new model: title/insight_teaser/verse_ref/verse_text) ---
    (async function loadDailyFeature(){
        const ctx = document.querySelector('.daily-feature');
        if (!ctx) return;

        const el = {
        title:   ctx.querySelector('.df-title'),
        teaser:  ctx.querySelector('.df-teaser'),
        date:    ctx.querySelector('.df-date'),
        ref:     ctx.querySelector('.verse-ref'),
        snip:    ctx.querySelector('.verse-snippet'),
        cta:     ctx.querySelector('.df-cta')
        };

        function baseSlug(s){
        return (s||'').normalize('NFKD')
            .replace(/[\u0300-\u036f]/g,'')
            .replace(/['"]/g,'')
            .replace(/[^A-Za-z0-9\s:‚Äì‚Äî-]+/g,' ')
            .replace(/\s+/g,' ')
            .trim();
        }
        function scriptureSlug(ref){
        return baseSlug(ref).replace(/[:‚Äì‚Äî]/g,'-').replace(/\s+/g,'-').replace(/-+/g,'-');
        }
        function titleSlug(title){
        return baseSlug(title).replace(/[:‚Äì‚Äî]/g,'-').replace(/\s+/g,'-').replace(/-+/g,'-').slice(0,60).replace(/-+$/,'');
        }
        function humanShort(iso){
        const dt = new Date(iso + 'T00:00:00');
        return dt.toLocaleDateString(undefined,{month:'short', day:'numeric'});
        }
        function todayCentralISO(){
        const fmt = new Intl.DateTimeFormat('en-CA', {
            timeZone: 'America/Chicago', year:'numeric', month:'2-digit', day:'2-digit'
        });
        return fmt.format(new Date());
        }

        try {
        const r = await fetch('/data/daily.json', { cache: 'no-store' });
        if (!r.ok) return;
        const d = await r.json();

        if (el.title && d.title) el.title.textContent = d.title;
        if (el.teaser) {
            const teaser = d.insight_teaser || (Array.isArray(d.insight) ? d.insight[0] : (d.insight || ''));
            el.teaser.textContent = (teaser || '').trim();
        }
        if (el.ref && d.verse_ref) el.ref.textContent = d.verse_ref;
        if (el.snip && d.verse_text) el.snip.textContent = '‚Äú' + d.verse_text + '‚Äù';
        if (el.date && d.date) {
            el.date.textContent = humanShort(d.date);
            el.date.setAttribute('datetime', d.date);
        }

        // Build/link to the correct page
        let href = 'daily.html';
        try {
            const ra = await fetch('/data/daily-archive.json', { cache: 'no-store' });
            if (ra.ok) {
            const list = await ra.json();
            const item = Array.isArray(list) ? list.find(x => x.date === d.date) : null;
            if (item && item.href) href = item.href;
            }
        } catch (_) {}

        if (!href || href === 'daily.html') {
            if (d.verse_ref && d.title && d.date) {
            href = '/daily/' + scriptureSlug(d.verse_ref) + '_' + titleSlug(d.title) + '_' + d.date + '.html';
            }
        }

        // Guard: if the daily date is in the future (CST/CDT), don't link to it
        const today = todayCentralISO();
        if (d.date && d.date > today) {
            href = '/daily-archive.html'; // or '#' to disable
        }

        if (el.cta && href) el.cta.setAttribute('href', href);
        } catch (e) {
        // keep static content
        }
    })();

    // Resource filter chips (unchanged)
    (function(){
        const chips = document.querySelectorAll('.chip');
        const cards = document.querySelectorAll('.resource-card');
        if(!chips.length || !cards.length) return;

        chips.forEach(chip => {
        chip.addEventListener('click', () => {
            chips.forEach(c => c.classList.remove('active'));
            chip.classList.add('active');
            const tag = chip.getAttribute('data-tag');
            cards.forEach(card => {
            const text = card.textContent.toLowerCase();
            const match = tag === 'all' ||
                            (tag === 'bible' && /verse|bible|study|scripture/.test(text)) ||
                            (tag === 'habits' && /habit|checklist|routine/.test(text)) ||
                            (tag === 'pdfs' && /\.pdf$/i.test(card.getAttribute('href')||'')) ||
                            (tag === 'books' && /book|read/.test(text)) ||
                            (tag === 'tools' && /tool|starter|kit|lookup/.test(text));
            card.style.display = match ? '' : 'none';
            });
        });
        });
    })();
    </script>

</body>
</html>
