<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{{TITLE}} — TheWrkShop Blog</title>
  <meta name="description" content="{{EXCERPT}}"/>
  <link rel="stylesheet" href="/style.css"/>
  <link rel="icon" type="image/x-icon" href="/assets/favicon/favicon.ico">
  <style>
    .blog-post{max-width:800px;margin:0 auto;}
    .blog-head h1{margin-bottom:.25rem}
    .blog-head .meta{display:flex;gap:.6rem;align-items:center;color:#6b5b53}
    .badge{display:inline-block;font-size:.8rem;font-weight:700;background:#3e2c23;color:#f4f1ee;padding:.15rem .55rem;border-radius:999px}
    .section{margin:1.25rem 0}
    .callout{background:#f4f1ee;border:1px solid rgba(0,0,0,.08);border-radius:12px;padding:1rem}
    .h2{font-size:1.15rem;color:#3e2c23;margin:.25rem 0 .5rem}
    .list{padding-left:1.2rem}
    .kv{display:grid;gap:.5rem}
    .kv > div{background:#faf8f6;border:1px solid rgba(0,0,0,.06);border-radius:10px;padding:.75rem}
    .kv .k{font-weight:700;color:#3e2c23}
    .rule{border-top:1px solid rgba(0,0,0,.08);margin:1.25rem 0}
    .nav-rows{display:flex;justify-content:space-between;gap:1rem;margin-top:1.25rem}
    .nav-rows a{display:inline-flex;align-items:center;gap:.5rem;text-decoration:none;color:#3e2c23;border:1px solid rgba(62,44,35,.3);padding:.6rem .9rem;border-radius:10px}
    .nav-rows a.is-disabled{color:#b9a79d;border-color:rgba(62,44,35,.18);opacity:.8;pointer-events:none;cursor:default}
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo"><a href="/" class="site-link"><span class="sitename"></span></a></div>
      <button class="hamburger" id="hamburger" aria-label="Menu">&#9776;</button>
      <ul class="nav-links" id="nav-links">
        <li><a href="/#about" data-scroll="#about">About</a></li>
        <li><a href="/podcasts.html">Podcast</a></li>
        <li><a class="active" href="/daily.html">Daily</a></li>
        <li><a href="/blog.html">Blog</a></li>
        <li><a href="/resources.html">Resources</a></li>
        <li><a href="/#contact" data-scroll="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main class="content-section container">
    <article class="blog-post">
      <header class="blog-head">
        <span class="badge">{{CATEGORY}}</span>
        <h1>{{TITLE}}</h1>
        <div class="meta">
          <time datetime="{{DATE}}">{{HUMAN_DATE}}</time>
          <span>• {{READING_MIN}} min</span>
          <span id="authorSlot" hidden>• <span id="authorText">{{AUTHOR}}</span></span>
        </div>
        <p id="excerptSlot" class="excerpt" hidden>{{EXCERPT}}</p>
      </header>

      <!-- All rich content goes here -->
      {{BODY_HTML}}

      <nav class="nav-rows" aria-label="Post navigation">
        <a class="btn" id="prevLink" href="{{PREV_HREF}}">← Previous</a>
        <a class="btn" id="nextLink" href="{{NEXT_HREF}}">Next →</a>
      </nav>
    </article>
  </main>

  <footer>
    <div class="footer-content">
      <div class="footer-logo"><span class="sitename"></span></div>
      <p>&copy; 2025 <span class="sitename"></span>. All rights reserved.</p>
    </div>
  </footer>
  <script>
  (function(){
    // brand
    document.querySelectorAll('.sitename').forEach(el => el.textContent = 'TheWrkShop');

    // hide author/excerpt if empty
    const a = document.getElementById('authorText');
    const aSlot = document.getElementById('authorSlot');
    if (a && a.textContent.trim()) aSlot.hidden = false;
    const ex = document.getElementById('excerptSlot');
    if (ex && ex.textContent.trim()) ex.hidden = false;

    // redirect away if this post is from the future
    const today = new Intl.DateTimeFormat('en-CA', {
      timeZone:'America/Chicago', year:'numeric', month:'2-digit', day:'2-digit'
    }).format(new Date());
    const pageTime = document.querySelector('time[datetime]');
    const pageDate = pageTime ? pageTime.getAttribute('datetime') : null;
    if (pageDate && pageDate > today) {
      window.location.replace('/blog-archive.html');
      return;
    }

    // disable prev/next if missing
    const prev = document.getElementById('prevLink');
    const next = document.getElementById('nextLink');
    [prev,next].forEach(a=>{
      if (!a) return;
      const href = (a.getAttribute('href')||'').trim();
      if (href === '#' || !href) a.classList.add('is-disabled');
    });
  })();
  </script>
  <script src="/script.js"></script>
</body>
</html>
